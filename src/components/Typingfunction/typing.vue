<template>
  <div class="typing-container">
    <h2 ref="textRef" class="typing-text"></h2>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { gsap } from 'gsap'

const textRef = ref(null)

function gsapTypingNewLine(element, texts, speed = 0.001, delay = 0.1) {
  const tl = gsap.timeline({ repeat: 0, repeatDelay: delay })
  
  texts.forEach(text => {
    const chars = text.split('')
    tl.call(() => {
      // üëá ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
      if (element.innerHTML !== '') element.innerHTML += '<br>'
    })
    chars.forEach((char, i) => {
      tl.to({}, {
        duration: speed,
        onComplete: () => element.innerHTML += char
      })
    })
  })
}

onMounted(() => {
  gsapTypingNewLine(textRef.value, [
    "1. ‡∫Å‡∫ß‡∫î‡∫ç‡∫≠‡∫î‡ªÄ‡∫á‡∫¥‡∫ô‡∫Ç‡ªâ‡∫≤‡∫°‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô‡∫ú‡ªà‡∫≤‡∫ô‡∫ï‡∫π‡ªâ ATM",
    "2. ‡∫ñ‡∫≠‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫™‡∫ª‡∫î‡∫Ç‡ªâ‡∫≤‡∫°‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô‡∫ú‡ªà‡∫≤‡∫ô‡∫ï‡∫π‡ªâ ATM",
    "3. ‡ªÇ‡∫≠‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫Ç‡ªâ‡∫≤‡∫°‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô‡∫ú‡ªà‡∫≤‡∫ô‡∫ï‡∫π‡ªâ ATM ‡ªÉ‡∫ô‡∫Æ‡∫π‡∫ö ‡ªÅ‡∫ö‡∫ö‡∫Å‡∫≤‡∫ô‡ªÇ‡∫≠‡∫ô ‡∫ö‡∫±‡∫î ‡∫´‡∫≤ ‡ªÄ‡∫•‡∫Å‡ªú‡ªâ‡∫≤‡∫ö‡∫±‡∫î",
    "4. ‡ªÇ‡∫≠‡∫ô‡ªÄ‡∫á‡∫¥‡∫ô‡∫Ç‡ªâ‡∫≤‡∫°‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô‡ªÄ‡∫ó‡∫¥‡∫á‡∫°‡∫∑‡∫ñ‡∫∑ ‡ªÉ‡∫ô‡∫Æ‡∫π‡∫ö‡ªÅ‡∫ö‡∫ö‡ªÇ‡∫≠‡∫ô‡∫à‡∫≤‡∫Å‡∫ö‡∫±‡∫ô‡∫ä‡∫µ - ‡∫ö‡∫±‡∫ô‡∫ä‡∫µ",
    "5. ‡∫ä‡∫≥‡∫•‡∫∞‡∫Ç‡ªâ‡∫≤‡∫°‡∫ó‡∫∞‡∫ô‡∫≤‡∫Ñ‡∫≤‡∫ô ‡∫ú‡ªà‡∫≤‡∫ô LAPNet QR Pay",
    "6. ‡∫ä‡∫≥‡∫•‡∫∞‡∫Ç‡ªâ‡∫≤‡∫°‡ªÅ‡∫î‡∫ô‡∫ú‡ªà‡∫≤‡∫ô QR",
  ], 0.04, 1)
})
</script>

<style scoped>
.typing-container {
  font-family: notosanlao;
  font-size: 29px;
  line-height: 2.0;
  color: #ffffff;
  white-space: pre-line;
 
  animation: blink 0.6s step-end infinite;
}

@keyframes blink {
  50% { border-color: transparent; }
}
</style>